# React路由

## <p></p>

## 一、SPA（单页面）的理解

###  &nbsp;&nbsp; 整个应用只是由一个完成的页面构成的，且点击页面中的链接不会刷新页面，只会做页面的局部更新。数据都需要通过 ajax 请求获取，并在前端移步展现。

## <p></p>

## 二、路由的理解

###  &nbsp;&nbsp; 什么是路由？
> 一个路由就是一个映射关系（key:value）。key为路径，value可能是function或 component 。 通俗来说就是监听页面的path路径发生改变时，去匹配对应的组件。其中path作为key，所对应的value可能function或 component。

## <p></p>

### &nbsp;&nbsp; 路由的分类

> 1. 后端路由：后端路由是一个function，用来处理客户提交的请求（router.get(path,function(req,res))）。工作过程：当node接收到一个请求时，根据请求路径找到匹配的路由，调用路由中的函数来处理请求，返回响应数据。
> 2. 前端路由：前端路由又统称为浏览器路由，是一个component，用于展示页面内容。React中注册路由的格式<Route path='/test' component={Test}> 。工作过程：当浏览器的path变为/test时，当前路由组件会变成Test组件。

### &nbsp;&nbsp; 路由的原理（案例）

## <p></p>

> 1.通过引入history.js来操作BOM元素中的浏览器记录

```
    <script src="https://cdn.bootcdn.net/ajax/libs/history/5.2.0/history.production.min.js"></script>
```
> 2.通过调用history的方法来实现路由的原理

## <p></p>

```
    let history = History.createBrowserHistory()
    // let history = History.createHashHistory()

    // 用来实现点击a标签改变path而不跳转页面
    function push(path) {
        history.push(path)
        return false
    }

    function replace(path) {
        history.replace(path)
    }
    
    function back() {
        history.goBack()
    }

    function forword(){
        history.goForward()
    }

    history.listen((localtion)=>{
        console.log('请求路由路径变化了',localtion)
    })
```

## 三、react-router-dom的理解

## <p></p>

###  &nbsp;&nbsp; 是一个react的一个插件库。专门用来实现一个SPA应用。且基于react的项目基本都会用到此库。

