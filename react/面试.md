# React 面试题

## 1. 请说一下你对React的理解？

### 题目分析

- 本题属于概念题

### 解题思路

- 是什么？一句话直接说直达本质
- 能干嘛？用途和应用场景
- 如果使用？核心工作原理
- 使用的好处

### React是什么？

- React 是一个用户构建用户界面的 Javascript 库

### React能干什么？

- 可以通过组件化的方式来构建快速响应的大型 web 应用程序

### React如果使用？


- 1.声明式

  - 声明式 使用声明式的编写用户界面，代码可行方便调试。

  - 声明式渲染和命令式渲染

    - 命令式渲染：命令我们的程序去做什么，程序就会跟着你的命令去一步一步执行。

    - 声明式渲染：我们只需要告诉程序我们想要什么效果，其他的交给程序来做
```js
    let root = document.getElementById('root');
    // 声明式
    ReactDOM.render(<h1 onClick={()=> console.log('hello')}> hello </h1>,root)
    // 命令式
    let h1 = document.createElement('h1');
    h1.innerHTML = 'hello'
    h1.addEventListener('click',()=> console.log('hello'),false)
    root.appendChild(h1)
```

- 2.组件化
  
  - 把页面拆分铖一个个组件，方便视图的拆分和复用，还可以做到高内聚和低耦合


- 3.一次学习，随处编写
  
  - 可以使用React开发Web、Android、Ios、VR和命令行程序
  
  - ReactNative 使用 React 来创建 Android 和 Ios 的原生应用
    
  - React 360 是一个创建 3D 和 VR 用户交互的框架

### React干的怎么样？

- 1.优点
  
  - 开发团队和社区的强大
  
  - 一次学习，随处编写
  
  - API比较简洁

- 2.缺点

  - 没有官方系统的解决方案，选型成本高

  - 过于灵活，不容易写出高质量的应用

### 其他扩展

- JSX实现声明式
- 虚拟DOM可以实现跨平台
- React使用的设计模式
- 自己React大型架构经验

## 2.为什么React会引入JSX

### 题目分析

- 方案类型，考察知识广度

### 解题思路

- 解释概念
  
- 想实现的目的？
  
- 有哪些选型方案？为什么这个方案好
  
- JSX的工作原理

### JSX是什么？

- JSX 是一个 `javascript` 的语法扩展，JSX 可以很好的描述 UI 应该呈现出它应有的交互本质形式
  
- JSX 其实就是 React.createElement 的语法理解

### 引入 JSX React想实现什么目的？

- 需要实现声明式编码
  
- 代码结构需要非常清晰和简介，可读性强
  
- 结构、样式和事件等能够实现高聚合低耦合，方便重用和组合。
  
- 不想引入新等概念和语法，只写JavaScript。
  
### 引入 JSX 的好处

- Vue.js 使用了HTML的模版语法，允许开发者声明式的将DOM绑定至底层Vue实例的数据
  
- 引入太多概念，使得学习起来脱离了最原本的js语法

### JSX 工作原理

- babel js
  
- astexplorer
  
- 安装
  - ```
    npm install  @babel/core  @babel/plugin-syntax-jsx @babel/plugin-transform-react-jsx  @babel/types  --save

  - ```js
    const babel = require('@babel/core');
    const sourceCode = `<h1 id= 'title' >hello<span>world</span></h1>`
    const result = babel.transform(sourceCode,{
        plugins:[ ['@babel/plugin-transform-react-jsx', { runtime: 'classic' }] ]
    })

    // 通过babel配合上插件将正常的 Real DOM(浏览器正常标签DOM) 转换成 Virtual DOM(虚拟DOM) 

    // 在 React17 之前，我们将展示的是旧版本的虚拟DOM,runtime = 'classic'。需要在根目录中引入 React.js 文件

    // 在 React17 之后，我们将展示的是新版本的虚拟DOM,runtime = 'automatic'。不需要在根目录中引入 React.js 文件

## 3.请说下你对 Virtual DOM 的理解？

### 题目分析

- 本题属于概念题

### 解题思路

- 是什么？一句话直达本质
  
- 能干什么？用途和应用场景
  
- 如果干的？核心工作原理
  
- 干的怎么样？优缺点

### 案例

- 安装插件
  
  - ```
    npm install @babel/core @babel/plugin-proposal-class-properties @babel/plugin-proposal-decorators @babel/preset-env @babel/preset-react ····
  
  - ```
    module: {
        test: /\.js?$/,
        use: {
            loader: 'babel-loader',
            options: {
                presets: [
                    ["@babel/preset-env"], 
                    "@babel/preset-react" 
                ],
                plugins: [
                    ["@babel/plugin-proposal-decorators",{
                        legacy: true
                    }],
                    ["@babel/plugin-proposal-class-properties", {
                        loose: true
                    }],
                ]
            }
        },
        exclude: /node_modules/
    }

###  虚拟 DOM (Virtual DOM) 是什么

- `React.createElement` 函数所返回的就是一个虚拟DOM
  
- 虚拟DOM就是一个描述真实DOM的纯JS对象

### 优点

- 处理了浏览器兼容性问题，避免用户操作真实DOM
  
- 内容经过了XSS处理，可以防范XSS处理
  
- 容易实现跨平台开发
  
- 更新时候可以实现差异化更新，减少更新DOM的操作

### 缺点

- 虚拟DOM需要消耗额外内存
  
- 首次渲染器其实并不一定会更快


## 4.什么是函数组件和类组件？它们有什么相同点和不同点？

### 题目分析

- 本题属于差异题

### 解题思路

- 是什么？一句话直达本质

- 能干什么？用途和应用场景

- 相同点 （组件 & Props）
  
- 不同点 （组合 VS 继承）

### 函数式组件

- 通过函数的形式来定义组件
  
  - ```js
    function MyComponent (){
        return <h1>我是函数式组件</h1>
    }
    ReactDOM.render(<MyComponent/>,document.getElementById('root'))

    // 通过ReactDOM.render渲染，会解析标签，找到对应的 MyComponent 组件。然后发现是函数定义的，调用该函数。生成虚拟DOM，再将其转为真实DOM，最后呈现在页面中

### 类式组件

- 通过继承 React.Component 来实现一个类来定义组件
  
  - ```js
    class MyComponent extends React.Component {
        render() {
            return <h1>我是类式组件</h1>
        }
    }
    ReactDOM.render(<MyComponent/>,document.getElementById('root'))

    // 通过ReactDOM.render渲染，会解析标签，找到对应的 MyComponent 组件。然后发现是组件定义的，随后会new 出来改类的实例，并通过该实例调用原型上的 render 方法。生成虚拟DOM，再将其转为真实DOM，最后呈现在页面中。

### 相同点

- 它们都可以接受收Props属性并返回React元素

### 不同点

- 编程实现不同：类组件需要创建实例，是基于面向对象的方式编程。而函数式组件不需要创建实例，接受输入，返回输出。是基于函数式编程的思想来编写的。
  
- 内存占用：类组件需要创建并保存实例，会占用一定内存，函数式组件不需要创建实例，可以节约内存占用
  
- 捕获特性：函数组件具有值捕获（具体表现，当在函数式组件中调用异步方法时，使用的参数不会随着改变而改变，还是取原先的值）
  
- 可测试性：函数式组件更方便编写单元测试
  
- 状态：类组件有自己的实例，可以定义生态，而且可以修改状态更新组件，函数式组件以前没有状态，后在`React 16.8`中引入了`hooks`的概念，可以使用`useState`来实现状态修改。
  
- 生命周期：类组件有自己完整的生命周期，可以在生命周期内编写逻辑。函数式组件以前没有生命周期，后引入`hooks`概念后，可以使用`useEffect`实现类似生命周期的方法。
  
- 逻辑复用：类组件可以通过继承来实现逻辑复用，但是官方推荐组件优于继承。函数式组件可以通过自定义`hooks`来实现逻辑的复用
  
- 跳过更新：`shouldComponentUpdate`和`PureComponent`来跳过更新，而函数式组件可以使用`React.memo`来跳过更新
  
- 发展前景：未来函数式组件将会成为主流，因为它可以更好的屏蔽this问题、规范和复用逻辑、更好的使用时间分片和并发渲染

